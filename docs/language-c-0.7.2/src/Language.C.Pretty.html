<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TypeSynonymInstances, FlexibleInstances, FlexibleContexts #-}</span><span>
</span><a name="line-2"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-4"></a><span class="hs-comment">-- Module      :  Language.C.Pretty</span><span>
</span><a name="line-5"></a><span class="hs-comment">-- Copyright   :  Copyright (c) 2007 Bertram Felgenhauer</span><span>
</span><a name="line-6"></a><span class="hs-comment">--                          (c) 2008 Benedikt Huber</span><span>
</span><a name="line-7"></a><span class="hs-comment">-- License     :  BSD-style</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- Maintainer  : benedikt.huber@gmail.com</span><span>
</span><a name="line-9"></a><span class="hs-comment">-- Stability   : experimental</span><span>
</span><a name="line-10"></a><span class="hs-comment">-- Portability : portable</span><span>
</span><a name="line-11"></a><span class="hs-comment">--</span><span>
</span><a name="line-12"></a><span class="hs-comment">-- This module provides a pretty printer for the parse tree</span><span>
</span><a name="line-13"></a><span class="hs-comment">-- ('Language.C.Syntax.AST').</span><span>
</span><a name="line-14"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-15"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.C.Pretty</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-16"></a><span>    </span><span class="hs-comment">-- * Pretty Printing</span><span>
</span><a name="line-17"></a><span>    </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-18"></a><span>    </span><span class="hs-comment">-- * Testing</span><span>
</span><a name="line-19"></a><span>    </span><a href="Language.C.Pretty.html#prettyUsingInclude"><span class="hs-identifier hs-var">prettyUsingInclude</span></a><span>
</span><a name="line-20"></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.List</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">isSuffixOf</span><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Set</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Set</span><span>
</span><a name="line-23"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Text.PrettyPrint.HughesPJ</span><span>
</span><a name="line-24"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Debug.Trace</span><span> </span><span class="hs-comment">{- for warnings -}</span><span>
</span><a name="line-25"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Prelude</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-keyword">import</span><span> </span><a href="Language.C.Data.html"><span class="hs-identifier">Language.C.Data</span></a><span>
</span><a name="line-28"></a><span class="hs-keyword">import</span><span> </span><a href="Language.C.Syntax.html"><span class="hs-identifier">Language.C.Syntax</span></a><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span class="hs-comment">-- | A class of types which can be pretty printed</span><span>
</span><a name="line-31"></a><span class="hs-keyword">class</span><span> </span><a name="Pretty"><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier">Pretty</span></a></a><span> </span><a name="local-6989586621679103094"><a href="#local-6989586621679103094"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-32"></a><span>    </span><span class="hs-comment">-- | pretty print the given value</span><span>
</span><a name="line-33"></a><span>    </span><a name="pretty"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679103094"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-34"></a><span>    </span><span class="hs-comment">-- | @prettyPrec prec p@ pretty prints p assuming</span><span>
</span><a name="line-35"></a><span>    </span><span class="hs-comment">-- that the surrounding context has a precedence of</span><span>
</span><a name="line-36"></a><span>    </span><span class="hs-comment">-- @prec@</span><span>
</span><a name="line-37"></a><span>    </span><a name="prettyPrec"><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier">prettyPrec</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679103094"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-38"></a><span>
</span><a name="line-39"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">0</span><span>
</span><a name="line-40"></a><span>    </span><a name="local-8214565720323877994"><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier">prettyPrec</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span>
</span><a name="line-41"></a><span>
</span><a name="line-42"></a><span class="hs-comment">-- pretty print optional chunk</span><span>
</span><a name="line-43"></a><span class="hs-identifier">maybeP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103317"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679103317"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-44"></a><a name="maybeP"><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier">maybeP</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-45"></a><span>
</span><a name="line-46"></a><span class="hs-comment">-- pretty print when flag is true</span><span>
</span><a name="line-47"></a><span class="hs-identifier">ifP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-48"></a><a name="ifP"><a href="Language.C.Pretty.html#ifP"><span class="hs-identifier">ifP</span></a></a><span> </span><a name="local-6989586621679103318"><a href="#local-6989586621679103318"><span class="hs-identifier">flag</span></a></a><span> </span><a name="local-6989586621679103319"><a href="#local-6989586621679103319"><span class="hs-identifier">doc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679103318"><span class="hs-identifier hs-var">flag</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679103319"><span class="hs-identifier hs-var">doc</span></a><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-49"></a><span>
</span><a name="line-50"></a><span class="hs-comment">-- pretty print _optional_ list, i.e. [] ~ Nothing and (x:xs) ~ Just (x:xs)</span><span>
</span><a name="line-51"></a><span class="hs-identifier">mlistP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="#local-6989586621679103316"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679103316"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-52"></a><a name="mlistP"><a href="Language.C.Pretty.html#mlistP"><span class="hs-identifier">mlistP</span></a></a><span> </span><a name="local-6989586621679103320"><a href="#local-6989586621679103320"><span class="hs-identifier">pp</span></a></a><span> </span><a name="local-6989586621679103321"><a href="#local-6989586621679103321"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="#local-6989586621679103320"><span class="hs-identifier hs-var">pp</span></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span>
</span><a name="line-53"></a><span>
</span><a name="line-54"></a><span class="hs-comment">-- pretty print identifier</span><span>
</span><a name="line-55"></a><span class="hs-identifier">identP</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.C.Data.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-56"></a><a name="identP"><a href="Language.C.Pretty.html#identP"><span class="hs-identifier">identP</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Data.Ident.html#identToString"><span class="hs-identifier hs-var">identToString</span></a><span>
</span><a name="line-57"></a><span>
</span><a name="line-58"></a><span class="hs-comment">-- pretty print attribute annotations</span><span>
</span><a name="line-59"></a><span class="hs-identifier">attrlistP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="Language.C.Syntax.AST.html#CAttr"><span class="hs-identifier hs-type">CAttr</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-60"></a><a name="attrlistP"><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier">attrlistP</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-61"></a><span class="hs-identifier">attrlistP</span><span> </span><a name="local-6989586621679103322"><a href="#local-6989586621679103322"><span class="hs-identifier">attrs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__attribute__&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679103322"><span class="hs-identifier hs-var">attrs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-62"></a><span>
</span><a name="line-63"></a><span class="hs-comment">-- analogous to showParen</span><span>
</span><a name="line-64"></a><span class="hs-identifier">parenPrec</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-65"></a><a name="parenPrec"><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier">parenPrec</span></a></a><span> </span><a name="local-6989586621679103323"><a href="#local-6989586621679103323"><span class="hs-identifier">prec</span></a></a><span> </span><a name="local-6989586621679103324"><a href="#local-6989586621679103324"><span class="hs-identifier">prec2</span></a></a><span> </span><a name="local-6989586621679103325"><a href="#local-6989586621679103325"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679103323"><span class="hs-identifier hs-var">prec</span></a><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><a href="#local-6989586621679103324"><span class="hs-identifier hs-var">prec2</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679103325"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><a href="#local-6989586621679103325"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-66"></a><span>
</span><a name="line-67"></a><span class="hs-comment">-- indent a chunk of code</span><span>
</span><a name="line-68"></a><span class="hs-identifier">ii</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Doc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-69"></a><a name="ii"><a href="Language.C.Pretty.html#ii"><span class="hs-identifier">ii</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">nest</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-comment">-- Pretty instances</span><span>
</span><a name="line-72"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CTranslUnit"><span class="hs-identifier hs-type">CTranslUnit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-73"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTranslUnit"><span class="hs-identifier hs-var">CTranslUnit</span></a><span> </span><a name="local-6989586621679103315"><a href="#local-6989586621679103315"><span class="hs-identifier">edecls</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103315"><span class="hs-identifier hs-var">edecls</span></a><span class="hs-special">)</span><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span class="hs-comment">-- | Pretty print the given tranlation unit, but replace declarations from header files with @#include@ directives.</span><span>
</span><a name="line-76"></a><span class="hs-comment">--</span><span>
</span><a name="line-77"></a><span class="hs-comment">-- The resulting file may not compile (because of missing @#define@ directives and similar things), but is very useful</span><span>
</span><a name="line-78"></a><span class="hs-comment">-- for testing, as otherwise the pretty printed file will be cluttered with declarations from system headers.</span><span>
</span><a name="line-79"></a><span class="hs-identifier">prettyUsingInclude</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.C.Syntax.AST.html#CTranslUnit"><span class="hs-identifier hs-type">CTranslUnit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-80"></a><a name="prettyUsingInclude"><a href="Language.C.Pretty.html#prettyUsingInclude"><span class="hs-identifier">prettyUsingInclude</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTranslUnit"><span class="hs-identifier hs-var">CTranslUnit</span></a><span> </span><a name="local-6989586621679103326"><a href="#local-6989586621679103326"><span class="hs-identifier">edecls</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-81"></a><span>  </span><a href="#local-6989586621679103333"><span class="hs-identifier hs-var">includeWarning</span></a><span> </span><a href="#local-6989586621679103327"><span class="hs-identifier hs-var">headerFiles</span></a><span>
</span><a name="line-82"></a><span>    </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-83"></a><span>  </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">either</span><span> </span><a href="#local-6989586621679103331"><span class="hs-identifier hs-var">includeHeader</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103328"><span class="hs-identifier hs-var">mappedDecls</span></a><span class="hs-special">)</span><span>
</span><a name="line-84"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-85"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679103327"><a href="#local-6989586621679103327"><span class="hs-identifier">headerFiles</span></a></a><span class="hs-special">,</span><a name="local-6989586621679103328"><a href="#local-6989586621679103328"><span class="hs-identifier">mappedDecls</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">foldr</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103330"><span class="hs-identifier hs-var">addDecl</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679103329"><span class="hs-identifier hs-var">tagIncludedDecls</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Set.empty</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103326"><span class="hs-identifier hs-var">edecls</span></a><span>
</span><a name="line-86"></a><span>    </span><a name="local-6989586621679103329"><a href="#local-6989586621679103329"><span class="hs-identifier">tagIncludedDecls</span></a></a><span> </span><a name="local-6989586621679103334"><a href="#local-6989586621679103334"><span class="hs-identifier">edecl</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a href="#local-6989586621679103332"><span class="hs-identifier hs-var">isHeaderFile</span></a><span> </span><span class="hs-special">(</span><a href="Language.C.Data.Node.html#fileOfNode"><span class="hs-identifier hs-var">fileOfNode</span></a><span> </span><a href="#local-6989586621679103334"><span class="hs-identifier hs-var">edecl</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Left</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="Language.C.Data.Position.html#posFile"><span class="hs-identifier hs-var">posFile</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Data.Position.html#posOf"><span class="hs-identifier hs-var">posOf</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103334"><span class="hs-identifier hs-var">edecl</span></a><span class="hs-special">)</span><span>
</span><a name="line-87"></a><span>                           </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Right</span><span> </span><a href="#local-6989586621679103334"><span class="hs-identifier hs-var">edecl</span></a><span>
</span><a name="line-88"></a><span>    </span><a name="local-6989586621679103330"><a href="#local-6989586621679103330"><span class="hs-identifier">addDecl</span></a></a><span> </span><a name="local-6989586621679103335"><a href="#local-6989586621679103335"><span class="hs-identifier">decl</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621679103336"><a href="#local-6989586621679103336"><span class="hs-identifier">headerRef</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679103337"><a href="#local-6989586621679103337"><span class="hs-identifier">headerSet</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103338"><a href="#local-6989586621679103338"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-89"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">Set.member</span><span> </span><a href="#local-6989586621679103336"><span class="hs-identifier hs-var">headerRef</span></a><span> </span><a href="#local-6989586621679103337"><span class="hs-identifier hs-var">headerSet</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103337"><span class="hs-identifier hs-var">headerSet</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679103338"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span>
</span><a name="line-90"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Set.insert</span><span> </span><a href="#local-6989586621679103336"><span class="hs-identifier hs-var">headerRef</span></a><span> </span><a href="#local-6989586621679103337"><span class="hs-identifier hs-var">headerSet</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679103335"><span class="hs-identifier hs-var">decl</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679103338"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span>
</span><a name="line-91"></a><span>    </span><span class="hs-identifier">addDecl</span><span> </span><a name="local-6989586621679103339"><a href="#local-6989586621679103339"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679103340"><a href="#local-6989586621679103340"><span class="hs-identifier">headerSet</span></a></a><span class="hs-special">,</span><a name="local-6989586621679103341"><a href="#local-6989586621679103341"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103340"><span class="hs-identifier hs-var">headerSet</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679103339"><span class="hs-identifier hs-var">decl</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679103341"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span>
</span><a name="line-92"></a><span>    </span><a name="local-6989586621679103331"><a href="#local-6989586621679103331"><span class="hs-identifier">includeHeader</span></a></a><span> </span><a name="local-6989586621679103342"><a href="#local-6989586621679103342"><span class="hs-identifier">hFile</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;#include&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">doubleQuotes</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><a href="#local-6989586621679103342"><span class="hs-identifier hs-var">hFile</span></a><span class="hs-special">)</span><span>
</span><a name="line-93"></a><span>    </span><a name="local-6989586621679103332"><a href="#local-6989586621679103332"><span class="hs-identifier">isHeaderFile</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;.h&quot;</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">isSuffixOf</span><span class="hs-special">`</span><span class="hs-special">)</span><span>
</span><a name="line-94"></a><span>    </span><a name="local-6989586621679103333"><a href="#local-6989586621679103333"><span class="hs-identifier">includeWarning</span></a></a><span> </span><a name="local-6989586621679103343"><a href="#local-6989586621679103343"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">Set.null</span><span> </span><a href="#local-6989586621679103343"><span class="hs-identifier hs-var">hs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-95"></a><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;/* Warning: The #include directives in this file aren't necessarily correct. */&quot;</span><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-comment">-- TODO: Check need of __extension__</span><span>
</span><a name="line-98"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CExtDecl"><span class="hs-identifier hs-type">CExtDecl</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-99"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDeclExt"><span class="hs-identifier hs-var">CDeclExt</span></a><span> </span><a name="local-6989586621679103312"><a href="#local-6989586621679103312"><span class="hs-identifier">decl</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103312"><span class="hs-identifier hs-var">decl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-100"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFDefExt"><span class="hs-identifier hs-var">CFDefExt</span></a><span> </span><a name="local-6989586621679103313"><a href="#local-6989586621679103313"><span class="hs-identifier">fund</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103313"><span class="hs-identifier hs-var">fund</span></a><span>
</span><a name="line-101"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAsmExt"><span class="hs-identifier hs-var">CAsmExt</span></a><span>  </span><a name="local-6989586621679103314"><a href="#local-6989586621679103314"><span class="hs-identifier">asmStmt</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;asm&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103314"><span class="hs-identifier hs-var">asmStmt</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span class="hs-comment">-- TODO: Check that old-style and new-style aren't mixed</span><span>
</span><a name="line-104"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CFunDef"><span class="hs-identifier hs-type">CFunDef</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-105"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFunDef"><span class="hs-identifier hs-var">CFunDef</span></a><span> </span><a name="local-6989586621679103308"><a href="#local-6989586621679103308"><span class="hs-identifier">declspecs</span></a></a><span> </span><a name="local-6989586621679103309"><a href="#local-6989586621679103309"><span class="hs-identifier">declr</span></a></a><span> </span><a name="local-6989586621679103310"><a href="#local-6989586621679103310"><span class="hs-identifier">decls</span></a></a><span> </span><a name="local-6989586621679103311"><a href="#local-6989586621679103311"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>          </span><span class="hs-comment">-- Example:</span><span>
</span><a name="line-106"></a><span>            </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103308"><span class="hs-identifier hs-var">declspecs</span></a><span class="hs-special">)</span><span>                      </span><span class="hs-comment">-- __attribute__((noreturn)) static long</span><span>
</span><a name="line-107"></a><span>        </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103309"><span class="hs-identifier hs-var">declr</span></a><span>                                     </span><span class="hs-comment">-- foo(b)</span><span>
</span><a name="line-108"></a><span>        </span><span class="hs-operator hs-var">$+$</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103310"><span class="hs-identifier hs-var">decls</span></a><span>     </span><span class="hs-comment">--     register long b;</span><span>
</span><a name="line-109"></a><span>        </span><span class="hs-operator hs-var">$$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103311"><span class="hs-identifier hs-var">stat</span></a><span>                              </span><span class="hs-comment">-- {  ...</span><span>
</span><a name="line-110"></a><span>                                                             </span><span class="hs-comment">-- }</span><span>
</span><a name="line-111"></a><span>
</span><a name="line-112"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CStat"><span class="hs-identifier hs-type">CStat</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-113"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CLabel"><span class="hs-identifier hs-var">CLabel</span></a><span> </span><a name="local-6989586621679103265"><a href="#local-6989586621679103265"><span class="hs-identifier">ident</span></a></a><span> </span><a name="local-6989586621679103266"><a href="#local-6989586621679103266"><span class="hs-identifier">stat</span></a></a><span> </span><a name="local-6989586621679103267"><a href="#local-6989586621679103267"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103265"><span class="hs-identifier hs-var">ident</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103267"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103266"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-114"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCase"><span class="hs-identifier hs-var">CCase</span></a><span> </span><a name="local-6989586621679103268"><a href="#local-6989586621679103268"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103269"><a href="#local-6989586621679103269"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-115"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;case&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103268"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103269"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-116"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCases"><span class="hs-identifier hs-var">CCases</span></a><span> </span><a name="local-6989586621679103270"><a href="#local-6989586621679103270"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103271"><a href="#local-6989586621679103271"><span class="hs-identifier">expr2</span></a></a><span> </span><a name="local-6989586621679103272"><a href="#local-6989586621679103272"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-117"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;case&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103270"><span class="hs-identifier hs-var">expr1</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;...&quot;</span><span>
</span><a name="line-118"></a><span>                    </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103271"><span class="hs-identifier hs-var">expr2</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103272"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-119"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDefault"><span class="hs-identifier hs-var">CDefault</span></a><span> </span><a name="local-6989586621679103273"><a href="#local-6989586621679103273"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;default:&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103273"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-120"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CExpr"><span class="hs-identifier hs-var">CExpr</span></a><span> </span><a name="local-6989586621679103274"><a href="#local-6989586621679103274"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103274"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-121"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><a name="local-6989586621679103275"><a href="#local-6989586621679103275"><span class="hs-identifier">c</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCompound"><span class="hs-identifier hs-var">CCompound</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">0</span><span> </span><a href="#local-6989586621679103275"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-122"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CIf"><span class="hs-identifier hs-var">CIf</span></a><span> </span><a name="local-6989586621679103276"><a href="#local-6989586621679103276"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103277"><a href="#local-6989586621679103277"><span class="hs-identifier">stat</span></a></a><span> </span><a name="local-6989586621679103278"><a href="#local-6989586621679103278"><span class="hs-identifier">estat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-123"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span>  </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;if&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103276"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-124"></a><span>                </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="#local-6989586621679103279"><span class="hs-identifier hs-var">prettyBody</span></a><span> </span><a href="#local-6989586621679103277"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-125"></a><span>                </span><span class="hs-operator hs-var">$$</span><span>  </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="#local-6989586621679103280"><span class="hs-identifier hs-var">prettyElse</span></a><span> </span><a href="#local-6989586621679103278"><span class="hs-identifier hs-var">estat</span></a><span>
</span><a name="line-126"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-127"></a><span>        </span><a name="local-6989586621679103279"><a href="#local-6989586621679103279"><span class="hs-identifier">prettyBody</span></a></a><span> </span><a name="local-6989586621679103281"><a href="#local-6989586621679103281"><span class="hs-identifier">c</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCompound"><span class="hs-identifier hs-var">CCompound</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103281"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-128"></a><span>        </span><span class="hs-identifier">prettyBody</span><span> </span><a name="local-6989586621679103282"><a href="#local-6989586621679103282"><span class="hs-identifier">nonCompound</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCompound"><span class="hs-identifier hs-var">CCompound</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><a href="Language.C.Syntax.AST.html#CBlockStmt"><span class="hs-identifier hs-var">CBlockStmt</span></a><span> </span><a href="#local-6989586621679103282"><span class="hs-identifier hs-var">nonCompound</span></a><span class="hs-special">]</span><span> </span><span class="hs-identifier hs-var">undefined</span><span class="hs-special">)</span><span>
</span><a name="line-129"></a><span>        </span><a name="local-6989586621679103280"><a href="#local-6989586621679103280"><span class="hs-identifier">prettyElse</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CIf"><span class="hs-identifier hs-var">CIf</span></a><span> </span><a name="local-6989586621679103283"><a href="#local-6989586621679103283"><span class="hs-identifier">else_if_expr</span></a></a><span> </span><a name="local-6989586621679103284"><a href="#local-6989586621679103284"><span class="hs-identifier">else_if_stat</span></a></a><span> </span><a name="local-6989586621679103285"><a href="#local-6989586621679103285"><span class="hs-identifier">else_stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-130"></a><span>          </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;else if&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103283"><span class="hs-identifier hs-var">else_if_expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-131"></a><span>            </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="#local-6989586621679103279"><span class="hs-identifier hs-var">prettyBody</span></a><span> </span><a href="#local-6989586621679103284"><span class="hs-identifier hs-var">else_if_stat</span></a><span>
</span><a name="line-132"></a><span>            </span><span class="hs-operator hs-var">$$</span><span>  </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="#local-6989586621679103280"><span class="hs-identifier hs-var">prettyElse</span></a><span> </span><a href="#local-6989586621679103285"><span class="hs-identifier hs-var">else_stat</span></a><span>
</span><a name="line-133"></a><span>        </span><span class="hs-identifier">prettyElse</span><span> </span><a name="local-6989586621679103286"><a href="#local-6989586621679103286"><span class="hs-identifier">else_stmt</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-134"></a><span>          </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;else&quot;</span><span>
</span><a name="line-135"></a><span>            </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="#local-6989586621679103279"><span class="hs-identifier hs-var">prettyBody</span></a><span> </span><a href="#local-6989586621679103286"><span class="hs-identifier hs-var">else_stmt</span></a><span>
</span><a name="line-136"></a><span>
</span><a name="line-137"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CSwitch"><span class="hs-identifier hs-var">CSwitch</span></a><span> </span><a name="local-6989586621679103287"><a href="#local-6989586621679103287"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103288"><a href="#local-6989586621679103288"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-138"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;switch&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103287"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><a name="line-139"></a><span>               </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103288"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-140"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CWhile"><span class="hs-identifier hs-var">CWhile</span></a><span> </span><a name="local-6989586621679103289"><a href="#local-6989586621679103289"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103290"><a href="#local-6989586621679103290"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-141"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;while&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103289"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><a name="line-142"></a><span>               </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103290"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-143"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CWhile"><span class="hs-identifier hs-var">CWhile</span></a><span> </span><a name="local-6989586621679103291"><a href="#local-6989586621679103291"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103292"><a href="#local-6989586621679103292"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier hs-var">True</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-144"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;do&quot;</span><span> </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103292"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-145"></a><span>               </span><span class="hs-operator hs-var">$$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;while&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103291"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;);&quot;</span><span>
</span><a name="line-146"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFor"><span class="hs-identifier hs-var">CFor</span></a><span> </span><a name="local-6989586621679103293"><a href="#local-6989586621679103293"><span class="hs-identifier">for_init</span></a></a><span> </span><a name="local-6989586621679103294"><a href="#local-6989586621679103294"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621679103295"><a href="#local-6989586621679103295"><span class="hs-identifier">step</span></a></a><span> </span><a name="local-6989586621679103296"><a href="#local-6989586621679103296"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-147"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;for&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span>
</span><a name="line-148"></a><span>               </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">either</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103293"><span class="hs-identifier hs-var">for_init</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-149"></a><span>               </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103294"><span class="hs-identifier hs-var">cond</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-150"></a><span>               </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103295"><span class="hs-identifier hs-var">step</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span> </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103296"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-151"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CGoto"><span class="hs-identifier hs-var">CGoto</span></a><span> </span><a name="local-6989586621679103297"><a href="#local-6989586621679103297"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;goto&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103297"><span class="hs-identifier hs-var">ident</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-152"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CGotoPtr"><span class="hs-identifier hs-var">CGotoPtr</span></a><span> </span><a name="local-6989586621679103298"><a href="#local-6989586621679103298"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;goto&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;*&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">30</span><span> </span><a href="#local-6989586621679103298"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-153"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCont"><span class="hs-identifier hs-var">CCont</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;continue&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-154"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBreak"><span class="hs-identifier hs-var">CBreak</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;break&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-155"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CReturn"><span class="hs-identifier hs-var">CReturn</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;return&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-156"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CReturn"><span class="hs-identifier hs-var">CReturn</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679103299"><a href="#local-6989586621679103299"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;return&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103299"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-157"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAsm"><span class="hs-identifier hs-var">CAsm</span></a><span> </span><a name="local-6989586621679103300"><a href="#local-6989586621679103300"><span class="hs-identifier">asmStmt</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103300"><span class="hs-identifier hs-var">asmStmt</span></a><span>
</span><a name="line-158"></a><span>    </span><a name="local-8214565720323877994"><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier">prettyPrec</span></a></a><span> </span><a name="local-6989586621679103301"><a href="#local-6989586621679103301"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCompound"><span class="hs-identifier hs-var">CCompound</span></a><span> </span><a name="local-6989586621679103302"><a href="#local-6989586621679103302"><span class="hs-identifier">localLabels</span></a></a><span> </span><a name="local-6989586621679103303"><a href="#local-6989586621679103303"><span class="hs-identifier">bis</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-159"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679103306"><a href="#local-6989586621679103306"><span class="hs-identifier">inner</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;{&quot;</span><span> </span><span class="hs-operator hs-var">$+$</span><span> </span><a href="Language.C.Pretty.html#mlistP"><span class="hs-identifier hs-var">mlistP</span></a><span> </span><a href="#local-6989586621679103304"><span class="hs-identifier hs-var">ppLblDecls</span></a><span> </span><a href="#local-6989586621679103302"><span class="hs-identifier hs-var">localLabels</span></a><span> </span><span class="hs-operator hs-var">$+$</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103303"><span class="hs-identifier hs-var">bis</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;}&quot;</span><span>
</span><a name="line-160"></a><span>        </span><span class="hs-keyword">in</span><span>  </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679103301"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-glyph">-</span><span class="hs-number">1</span><span> </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679103306"><span class="hs-identifier hs-var">inner</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><a href="#local-6989586621679103306"><span class="hs-identifier hs-var">inner</span></a><span>
</span><a name="line-161"></a><span>        </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679103304"><a href="#local-6989586621679103304"><span class="hs-identifier">ppLblDecls</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679103305"><a href="#local-6989586621679103305"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__label__&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103305"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span class="hs-special">)</span><span>
</span><a name="line-162"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679103307"><a href="#local-6989586621679103307"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103307"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-163"></a><span>
</span><a name="line-164"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CAsmStmt"><span class="hs-identifier hs-type">CAsmStmt</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-165"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAsmStmt"><span class="hs-identifier hs-var">CAsmStmt</span></a><span> </span><a name="local-6989586621679103257"><a href="#local-6989586621679103257"><span class="hs-identifier">tyQual</span></a></a><span> </span><a name="local-6989586621679103258"><a href="#local-6989586621679103258"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103259"><a href="#local-6989586621679103259"><span class="hs-identifier">outOps</span></a></a><span> </span><a name="local-6989586621679103260"><a href="#local-6989586621679103260"><span class="hs-identifier">inOps</span></a></a><span> </span><a name="local-6989586621679103261"><a href="#local-6989586621679103261"><span class="hs-identifier">clobbers</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-166"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__asm__&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-167"></a><span>             </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103257"><span class="hs-identifier hs-var">tyQual</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span>
</span><a name="line-168"></a><span>             </span><span class="hs-identifier hs-var">parens</span><span> </span><a href="#local-6989586621679103262"><span class="hs-identifier hs-var">asmStmt</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-169"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-170"></a><span>        </span><a name="local-6989586621679103262"><a href="#local-6989586621679103262"><span class="hs-identifier">asmStmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103258"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-171"></a><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">all</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679103260"><span class="hs-identifier hs-var">inOps</span></a><span class="hs-special">,</span><a href="#local-6989586621679103259"><span class="hs-identifier hs-var">outOps</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621679103261"><span class="hs-identifier hs-var">clobbers</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">empty</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679103263"><span class="hs-identifier hs-var">ops</span></a><span class="hs-special">)</span><span>
</span><a name="line-172"></a><span>        </span><a name="local-6989586621679103263"><a href="#local-6989586621679103263"><span class="hs-identifier">ops</span></a></a><span>     </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103259"><span class="hs-identifier hs-var">outOps</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-173"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103260"><span class="hs-identifier hs-var">inOps</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-174"></a><span>                   </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621679103261"><span class="hs-identifier hs-var">clobbers</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">empty</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679103264"><span class="hs-identifier hs-var">clobs</span></a><span class="hs-special">)</span><span>
</span><a name="line-175"></a><span>        </span><a name="local-6989586621679103264"><a href="#local-6989586621679103264"><span class="hs-identifier">clobs</span></a></a><span>   </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103261"><span class="hs-identifier hs-var">clobbers</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-176"></a><span>
</span><a name="line-177"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CAsmOperand"><span class="hs-identifier hs-type">CAsmOperand</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-178"></a><span>    </span><span class="hs-comment">-- asm_operand :~ [operand-name] &quot;constraint&quot; ( expr )</span><span>
</span><a name="line-179"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAsmOperand"><span class="hs-identifier hs-var">CAsmOperand</span></a><span> </span><a name="local-6989586621679103253"><a href="#local-6989586621679103253"><span class="hs-identifier">mArgName</span></a></a><span> </span><a name="local-6989586621679103254"><a href="#local-6989586621679103254"><span class="hs-identifier">cnstr</span></a></a><span> </span><a name="local-6989586621679103255"><a href="#local-6989586621679103255"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-180"></a><span>        </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679103256"><a href="#local-6989586621679103256"><span class="hs-identifier">argName</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;[&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103256"><span class="hs-identifier hs-var">argName</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;]&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103253"><span class="hs-identifier hs-var">mArgName</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-181"></a><span>        </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103254"><span class="hs-identifier hs-var">cnstr</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-182"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103255"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-183"></a><span>
</span><a name="line-184"></a><span class="hs-comment">-- TODO: Check need of __extension__</span><span>
</span><a name="line-185"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CBlockItem"><span class="hs-identifier hs-type">CBlockItem</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-186"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBlockStmt"><span class="hs-identifier hs-var">CBlockStmt</span></a><span> </span><a name="local-6989586621679103250"><a href="#local-6989586621679103250"><span class="hs-identifier">stat</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103250"><span class="hs-identifier hs-var">stat</span></a><span>
</span><a name="line-187"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBlockDecl"><span class="hs-identifier hs-var">CBlockDecl</span></a><span> </span><a name="local-6989586621679103251"><a href="#local-6989586621679103251"><span class="hs-identifier">decl</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103251"><span class="hs-identifier hs-var">decl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span>
</span><a name="line-188"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CNestedFunDef"><span class="hs-identifier hs-var">CNestedFunDef</span></a><span> </span><a name="local-6989586621679103252"><a href="#local-6989586621679103252"><span class="hs-identifier">fundef</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103252"><span class="hs-identifier hs-var">fundef</span></a><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CDecl"><span class="hs-identifier hs-type">CDecl</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-191"></a><span>    </span><span class="hs-comment">-- CAVEAT:</span><span>
</span><a name="line-192"></a><span>    </span><span class="hs-comment">-- we may not print __attribute__s directly after typespecs,</span><span>
</span><a name="line-193"></a><span>    </span><span class="hs-comment">-- as this may change the semantics of the declaration.</span><span>
</span><a name="line-194"></a><span>    </span><span class="hs-comment">-- The parser fixes this, but to avoid hard-to-track code generator</span><span>
</span><a name="line-195"></a><span>    </span><span class="hs-comment">-- errors, we enforce this invariant on the AST level.</span><span>
</span><a name="line-196"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDecl"><span class="hs-identifier hs-var">CDecl</span></a><span> </span><a name="local-6989586621679103237"><a href="#local-6989586621679103237"><span class="hs-identifier">specs</span></a></a><span> </span><a name="local-6989586621679103238"><a href="#local-6989586621679103238"><span class="hs-identifier">divs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-197"></a><span>        </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103240"><span class="hs-identifier hs-var">checked_specs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679103239"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679103238"><span class="hs-identifier hs-var">divs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-198"></a><span>            </span><span class="hs-keyword">where</span><span>
</span><a name="line-199"></a><span>            </span><span class="hs-comment">-- possible hint for AST improvement - (declr, initializer, expr, attrs)</span><span>
</span><a name="line-200"></a><span>            </span><span class="hs-comment">-- currently there are no sensible attributes for unnamed bitfields though</span><span>
</span><a name="line-201"></a><span>            </span><a name="local-6989586621679103239"><a href="#local-6989586621679103239"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679103243"><a href="#local-6989586621679103243"><span class="hs-identifier">declr</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103244"><a href="#local-6989586621679103244"><span class="hs-identifier">initializer</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103245"><a href="#local-6989586621679103245"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-202"></a><span>                </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#prettyDeclr"><span class="hs-identifier hs-var">prettyDeclr</span></a><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103243"><span class="hs-identifier hs-var">declr</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-203"></a><span>                </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103245"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-204"></a><span>                </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103242"><span class="hs-identifier hs-var">getAttrs</span></a><span> </span><a href="#local-6989586621679103243"><span class="hs-identifier hs-var">declr</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-205"></a><span>                </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;=&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103244"><span class="hs-identifier hs-var">initializer</span></a><span>
</span><a name="line-206"></a><span>            </span><a name="local-6989586621679103240"><a href="#local-6989586621679103240"><span class="hs-identifier">checked_specs</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-207"></a><span>                </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">any</span><span> </span><a href="#local-6989586621679103241"><span class="hs-identifier hs-var">isAttrAfterSUE</span></a><span>  </span><span class="hs-special">(</span><span class="hs-identifier hs-var">zip</span><span> </span><a href="#local-6989586621679103237"><span class="hs-identifier hs-var">specs</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">tail</span><span> </span><a href="#local-6989586621679103237"><span class="hs-identifier hs-var">specs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-208"></a><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">trace</span><span>
</span><a name="line-209"></a><span>                           </span><span class="hs-special">(</span><span class="hs-string">&quot;Warning: AST Invariant violated: __attribute__ specifier following struct/union/enum:&quot;</span><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-210"></a><span>                            </span><span class="hs-identifier hs-var">show</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103237"><span class="hs-identifier hs-var">specs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-211"></a><span>                           </span><a href="#local-6989586621679103237"><span class="hs-identifier hs-var">specs</span></a><span>
</span><a name="line-212"></a><span>                    </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679103237"><span class="hs-identifier hs-var">specs</span></a><span>
</span><a name="line-213"></a><span>            </span><a name="local-6989586621679103241"><a href="#local-6989586621679103241"><span class="hs-identifier">isAttrAfterSUE</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeSpec"><span class="hs-identifier hs-var">CTypeSpec</span></a><span> </span><a name="local-6989586621679103246"><a href="#local-6989586621679103246"><span class="hs-identifier">ty</span></a></a><span class="hs-special">,</span><a href="Language.C.Syntax.AST.html#CTypeQual"><span class="hs-identifier hs-var">CTypeQual</span></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAttrQual"><span class="hs-identifier hs-var">CAttrQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Syntax.AST.html#isSUEDef"><span class="hs-identifier hs-var">isSUEDef</span></a><span> </span><a href="#local-6989586621679103246"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-214"></a><span>            </span><span class="hs-identifier">isAttrAfterSUE</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-215"></a><span>            </span><a name="local-6989586621679103242"><a href="#local-6989586621679103242"><span class="hs-identifier">getAttrs</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-216"></a><span>            </span><span class="hs-identifier">getAttrs</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDeclr"><span class="hs-identifier hs-var">CDeclr</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679103247"><a href="#local-6989586621679103247"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679103247"><span class="hs-identifier hs-var">cattrs</span></a><span>
</span><a name="line-217"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStaticAssert"><span class="hs-identifier hs-var">CStaticAssert</span></a><span> </span><a name="local-6989586621679103248"><a href="#local-6989586621679103248"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103249"><a href="#local-6989586621679103249"><span class="hs-identifier">str</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-218"></a><span>      </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Static_assert&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">[</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103248"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">,</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103249"><span class="hs-identifier hs-var">str</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-219"></a><span>
</span><a name="line-220"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CDeclSpec"><span class="hs-identifier hs-type">CDeclSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-221"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStorageSpec"><span class="hs-identifier hs-var">CStorageSpec</span></a><span> </span><a name="local-6989586621679103232"><a href="#local-6989586621679103232"><span class="hs-identifier">sp</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103232"><span class="hs-identifier hs-var">sp</span></a><span>
</span><a name="line-222"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeSpec"><span class="hs-identifier hs-var">CTypeSpec</span></a><span> </span><a name="local-6989586621679103233"><a href="#local-6989586621679103233"><span class="hs-identifier">sp</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103233"><span class="hs-identifier hs-var">sp</span></a><span>
</span><a name="line-223"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeQual"><span class="hs-identifier hs-var">CTypeQual</span></a><span> </span><a name="local-6989586621679103234"><a href="#local-6989586621679103234"><span class="hs-identifier">qu</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103234"><span class="hs-identifier hs-var">qu</span></a><span>
</span><a name="line-224"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFunSpec"><span class="hs-identifier hs-var">CFunSpec</span></a><span> </span><a name="local-6989586621679103235"><a href="#local-6989586621679103235"><span class="hs-identifier">fs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103235"><span class="hs-identifier hs-var">fs</span></a><span>
</span><a name="line-225"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAlignSpec"><span class="hs-identifier hs-var">CAlignSpec</span></a><span> </span><a name="local-6989586621679103236"><a href="#local-6989586621679103236"><span class="hs-identifier">sa</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103236"><span class="hs-identifier hs-var">sa</span></a><span>
</span><a name="line-226"></a><span>
</span><a name="line-227"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CAlignSpec"><span class="hs-identifier hs-type">CAlignSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-228"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAlignAsType"><span class="hs-identifier hs-var">CAlignAsType</span></a><span> </span><a name="local-6989586621679103230"><a href="#local-6989586621679103230"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-229"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Alignas&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103230"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span>
</span><a name="line-230"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAlignAsExpr"><span class="hs-identifier hs-var">CAlignAsExpr</span></a><span> </span><a name="local-6989586621679103231"><a href="#local-6989586621679103231"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-231"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Alignas&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103231"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-232"></a><span>
</span><a name="line-233"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CStorageSpec"><span class="hs-identifier hs-type">CStorageSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-234"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAuto"><span class="hs-identifier hs-var">CAuto</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;auto&quot;</span><span>
</span><a name="line-235"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CRegister"><span class="hs-identifier hs-var">CRegister</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;register&quot;</span><span>
</span><a name="line-236"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStatic"><span class="hs-identifier hs-var">CStatic</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;static&quot;</span><span>
</span><a name="line-237"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CExtern"><span class="hs-identifier hs-var">CExtern</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;extern&quot;</span><span>
</span><a name="line-238"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypedef"><span class="hs-identifier hs-var">CTypedef</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;typedef&quot;</span><span>
</span><a name="line-239"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CThread"><span class="hs-identifier hs-var">CThread</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Thread_local&quot;</span><span>
</span><a name="line-240"></a><span>
</span><a name="line-241"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CTypeSpec"><span class="hs-identifier hs-type">CTypeSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-242"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CVoidType"><span class="hs-identifier hs-var">CVoidType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;void&quot;</span><span>
</span><a name="line-243"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCharType"><span class="hs-identifier hs-var">CCharType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;char&quot;</span><span>
</span><a name="line-244"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CShortType"><span class="hs-identifier hs-var">CShortType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;short&quot;</span><span>
</span><a name="line-245"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CIntType"><span class="hs-identifier hs-var">CIntType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;int&quot;</span><span>
</span><a name="line-246"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CLongType"><span class="hs-identifier hs-var">CLongType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;long&quot;</span><span>
</span><a name="line-247"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFloatType"><span class="hs-identifier hs-var">CFloatType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;float&quot;</span><span>
</span><a name="line-248"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFloat128Type"><span class="hs-identifier hs-var">CFloat128Type</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__float128&quot;</span><span>
</span><a name="line-249"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDoubleType"><span class="hs-identifier hs-var">CDoubleType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;double&quot;</span><span>
</span><a name="line-250"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CSignedType"><span class="hs-identifier hs-var">CSignedType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;signed&quot;</span><span>
</span><a name="line-251"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnsigType"><span class="hs-identifier hs-var">CUnsigType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;unsigned&quot;</span><span>
</span><a name="line-252"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBoolType"><span class="hs-identifier hs-var">CBoolType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Bool&quot;</span><span>
</span><a name="line-253"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CComplexType"><span class="hs-identifier hs-var">CComplexType</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Complex&quot;</span><span>
</span><a name="line-254"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CInt128Type"><span class="hs-identifier hs-var">CInt128Type</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__int128&quot;</span><span>
</span><a name="line-255"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CSUType"><span class="hs-identifier hs-var">CSUType</span></a><span> </span><a name="local-6989586621679103224"><a href="#local-6989586621679103224"><span class="hs-identifier">union</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103224"><span class="hs-identifier hs-var">union</span></a><span>
</span><a name="line-256"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CEnumType"><span class="hs-identifier hs-var">CEnumType</span></a><span> </span><a name="local-6989586621679103225"><a href="#local-6989586621679103225"><span class="hs-identifier">enum</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103225"><span class="hs-identifier hs-var">enum</span></a><span>
</span><a name="line-257"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeDef"><span class="hs-identifier hs-var">CTypeDef</span></a><span> </span><a name="local-6989586621679103226"><a href="#local-6989586621679103226"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103226"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-258"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeOfExpr"><span class="hs-identifier hs-var">CTypeOfExpr</span></a><span> </span><a name="local-6989586621679103227"><a href="#local-6989586621679103227"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-259"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;typeof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103227"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-260"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CTypeOfType"><span class="hs-identifier hs-var">CTypeOfType</span></a><span> </span><a name="local-6989586621679103228"><a href="#local-6989586621679103228"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-261"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;typeof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103228"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span>
</span><a name="line-262"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAtomicType"><span class="hs-identifier hs-var">CAtomicType</span></a><span> </span><a name="local-6989586621679103229"><a href="#local-6989586621679103229"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-263"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Atomic&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103229"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span>
</span><a name="line-264"></a><span>
</span><a name="line-265"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CTypeQual"><span class="hs-identifier hs-type">CTypeQual</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-266"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CConstQual"><span class="hs-identifier hs-var">CConstQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;const&quot;</span><span>
</span><a name="line-267"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CVolatQual"><span class="hs-identifier hs-var">CVolatQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;volatile&quot;</span><span>
</span><a name="line-268"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CRestrQual"><span class="hs-identifier hs-var">CRestrQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__restrict&quot;</span><span>
</span><a name="line-269"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAtomicQual"><span class="hs-identifier hs-var">CAtomicQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Atomic&quot;</span><span>
</span><a name="line-270"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAttrQual"><span class="hs-identifier hs-var">CAttrQual</span></a><span> </span><a name="local-6989586621679103223"><a href="#local-6989586621679103223"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679103223"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-271"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CNullableQual"><span class="hs-identifier hs-var">CNullableQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Nullable&quot;</span><span>
</span><a name="line-272"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CNonnullQual"><span class="hs-identifier hs-var">CNonnullQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Nonnull&quot;</span><span>
</span><a name="line-273"></a><span>
</span><a name="line-274"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CFunSpec"><span class="hs-identifier hs-type">CFunSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-275"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CInlineQual"><span class="hs-identifier hs-var">CInlineQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;inline&quot;</span><span>
</span><a name="line-276"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CNoreturnQual"><span class="hs-identifier hs-var">CNoreturnQual</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Noreturn&quot;</span><span>
</span><a name="line-277"></a><span>
</span><a name="line-278"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CStructUnion"><span class="hs-identifier hs-type">CStructUnion</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-279"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStruct"><span class="hs-identifier hs-var">CStruct</span></a><span> </span><a name="local-6989586621679103213"><a href="#local-6989586621679103213"><span class="hs-identifier">tag</span></a></a><span> </span><a name="local-6989586621679103214"><a href="#local-6989586621679103214"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><a name="local-6989586621679103215"><a href="#local-6989586621679103215"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103213"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103215"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103214"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-280"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStruct"><span class="hs-identifier hs-var">CStruct</span></a><span> </span><a name="local-6989586621679103216"><a href="#local-6989586621679103216"><span class="hs-identifier">tag</span></a></a><span> </span><a name="local-6989586621679103217"><a href="#local-6989586621679103217"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><a name="local-6989586621679103218"><a href="#local-6989586621679103218"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-281"></a><span>        </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103216"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103218"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103217"><span class="hs-identifier hs-var">ident</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;{ }&quot;</span><span>
</span><a name="line-282"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStruct"><span class="hs-identifier hs-var">CStruct</span></a><span> </span><a name="local-6989586621679103219"><a href="#local-6989586621679103219"><span class="hs-identifier">tag</span></a></a><span> </span><a name="local-6989586621679103220"><a href="#local-6989586621679103220"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679103221"><a href="#local-6989586621679103221"><span class="hs-identifier">decls</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679103222"><a href="#local-6989586621679103222"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-283"></a><span>        </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103219"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103222"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103220"><span class="hs-identifier hs-var">ident</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;{&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-284"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">sep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">semi</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103221"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-285"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;}&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-286"></a><span>
</span><a name="line-287"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CStructTag"><span class="hs-identifier hs-type">CStructTag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-288"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><a href="Language.C.Syntax.AST.html#CStructTag"><span class="hs-identifier hs-var">CStructTag</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;struct&quot;</span><span>
</span><a name="line-289"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><a href="Language.C.Syntax.AST.html#CUnionTag"><span class="hs-identifier hs-var">CUnionTag</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;union&quot;</span><span>
</span><a name="line-290"></a><span>
</span><a name="line-291"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CEnum"><span class="hs-identifier hs-type">CEnum</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-292"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CEnum"><span class="hs-identifier hs-var">CEnum</span></a><span> </span><a name="local-6989586621679103205"><a href="#local-6989586621679103205"><span class="hs-identifier">enum_ident</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><a name="local-6989586621679103206"><a href="#local-6989586621679103206"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;enum&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103206"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103205"><span class="hs-identifier hs-var">enum_ident</span></a><span>
</span><a name="line-293"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CEnum"><span class="hs-identifier hs-var">CEnum</span></a><span> </span><a name="local-6989586621679103207"><a href="#local-6989586621679103207"><span class="hs-identifier">enum_ident</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679103208"><a href="#local-6989586621679103208"><span class="hs-identifier">vals</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679103209"><a href="#local-6989586621679103209"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-294"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;enum&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103209"><span class="hs-identifier hs-var">cattrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103207"><span class="hs-identifier hs-var">enum_ident</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;{&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-295"></a><span>        </span><a href="Language.C.Pretty.html#ii"><span class="hs-identifier hs-var">ii</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">sep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679103210"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679103208"><span class="hs-identifier hs-var">vals</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-296"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;}&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-297"></a><span>        </span><a name="local-6989586621679103210"><a href="#local-6989586621679103210"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679103211"><a href="#local-6989586621679103211"><span class="hs-identifier">ident</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103212"><a href="#local-6989586621679103212"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103211"><span class="hs-identifier hs-var">ident</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;=&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103212"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-298"></a><span>
</span><a name="line-299"></a><span class="hs-comment">--  Analyze a declarator and return a human-readable description</span><span>
</span><a name="line-300"></a><span class="hs-comment">--   See C99 Spec p 115ff.</span><span>
</span><a name="line-301"></a><span class="hs-comment">-- describeDeclr :: CDeclr -&gt; Doc</span><span>
</span><a name="line-302"></a><span class="hs-comment">-- describeDeclr declr =</span><span>
</span><a name="line-303"></a><span class="hs-comment">--     let declrs = reverse (declrChain declr) in</span><span>
</span><a name="line-304"></a><span class="hs-comment">--     endDescr (foldl descrDeclr undefined declrs)</span><span>
</span><a name="line-305"></a><span class="hs-comment">--</span><span>
</span><a name="line-306"></a><span class="hs-comment">--   where</span><span>
</span><a name="line-307"></a><span class="hs-comment">--   declrChain declr@(CVarDeclr _ _ _ _) = [declr]</span><span>
</span><a name="line-308"></a><span class="hs-comment">--   declrChain declr@(CPtrDeclr _ ideclr _)   = declr : declrChain ideclr</span><span>
</span><a name="line-309"></a><span class="hs-comment">--   declrChain declr@(CArrDeclr ideclr _ _ _) = declr : declrChain ideclr</span><span>
</span><a name="line-310"></a><span class="hs-comment">--   declrChain declr@(CFunDeclr ideclr _ _ _)   = declr : declrChain ideclr</span><span>
</span><a name="line-311"></a><span class="hs-comment">--</span><span>
</span><a name="line-312"></a><span class="hs-comment">--   descrDeclr _ (CVarDeclr ident asm cattrs _) = single False $ \_ -&gt;</span><span>
</span><a name="line-313"></a><span class="hs-comment">--       maybe (text &quot;&lt;anonymous&gt;&quot;) identP ident &lt;+&gt;</span><span>
</span><a name="line-314"></a><span class="hs-comment">--       maybeP (\asmname -&gt; parens (text &quot;asm:&quot; &lt;+&gt; pretty asmname)) asm &lt;+&gt;</span><span>
</span><a name="line-315"></a><span class="hs-comment">--       text &quot;is&quot; &lt;+&gt; (if null cattrs then empty else prettyList (map CAttrQual cattrs) &lt;&gt; comma)</span><span>
</span><a name="line-316"></a><span class="hs-comment">--   descrDeclr (pre,isPlural) (CPtrDeclr quals declr _) = single isPlural $ \pluralize -&gt;</span><span>
</span><a name="line-317"></a><span class="hs-comment">--       pre &lt;+&gt; indefArticle isPlural &lt;&gt; prettyList quals &lt;+&gt; pluralize &quot;pointer to&quot; &quot;pointers to&quot;</span><span>
</span><a name="line-318"></a><span class="hs-comment">--   descrDeclr (pre,isPlural) (CArrDeclr declr quals expr _) = plural isPlural $ \pluralize -&gt;</span><span>
</span><a name="line-319"></a><span class="hs-comment">--       pre &lt;+&gt; indefArticle' isPlural &lt;&gt; prettyList quals &lt;+&gt; pluralize &quot;array of&quot; &quot;arrays of&quot;</span><span>
</span><a name="line-320"></a><span class="hs-comment">--   descrDeclr (pre,isPlural) (CFunDeclr declr params cattrs _) = single isPlural $ \pluralize -&gt;</span><span>
</span><a name="line-321"></a><span class="hs-comment">--       pre &lt;+&gt; indefArticle isPlural &lt;&gt; prettyList (map CAttrQual cattrs) &lt;+&gt; pluralize &quot;function returning&quot; &quot;functions returning&quot;</span><span>
</span><a name="line-322"></a><span class="hs-comment">--   endDescr (pre, isPlural) =  pre &lt;+&gt; text (if isPlural then &quot;&lt;typed objects&gt;&quot; else &quot;a &lt;typed object&gt;&quot;)</span><span>
</span><a name="line-323"></a><span class="hs-comment">--   single :: Bool -&gt; ( (String -&gt; String -&gt; Doc) -&gt; a ) -&gt; (a, Bool)</span><span>
</span><a name="line-324"></a><span class="hs-comment">--   single isPlural mkDescr = (mkDescr (pluralize isPlural), isPlural)</span><span>
</span><a name="line-325"></a><span class="hs-comment">--   plural :: Bool -&gt; ( (String -&gt; String -&gt; Doc) -&gt; a ) -&gt; (a, Bool)</span><span>
</span><a name="line-326"></a><span class="hs-comment">--   plural isPlural mkDescr = (mkDescr (pluralize isPlural), True)</span><span>
</span><a name="line-327"></a><span class="hs-comment">--   indefArticle isPlural  = text$ if isPlural then &quot;&quot; else &quot;a &quot;</span><span>
</span><a name="line-328"></a><span class="hs-comment">--   indefArticle' isPlural = text$ if isPlural then &quot;&quot; else &quot;an &quot;</span><span>
</span><a name="line-329"></a><span class="hs-comment">--   pluralize isPlural s p = text (if isPlural then p else s)</span><span>
</span><a name="line-330"></a><span class="hs-comment">--   prettyList :: (Pretty a) =&gt; [a] -&gt; Doc</span><span>
</span><a name="line-331"></a><span class="hs-comment">--   prettyList = hsep . punctuate comma . map pretty</span><span>
</span><a name="line-332"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CDeclr"><span class="hs-identifier hs-type">CDeclr</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-333"></a><span>    </span><a name="local-8214565720323877994"><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier">prettyPrec</span></a></a><span> </span><a name="local-6989586621679103203"><a href="#local-6989586621679103203"><span class="hs-identifier">prec</span></a></a><span> </span><a name="local-6989586621679103204"><a href="#local-6989586621679103204"><span class="hs-identifier">declr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#prettyDeclr"><span class="hs-identifier hs-var">prettyDeclr</span></a><span> </span><span class="hs-identifier hs-var">True</span><span> </span><a href="#local-6989586621679103203"><span class="hs-identifier hs-var">prec</span></a><span> </span><a href="#local-6989586621679103204"><span class="hs-identifier hs-var">declr</span></a><span>
</span><a name="line-334"></a><span>
</span><a name="line-335"></a><span class="hs-identifier">prettyDeclr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.C.Syntax.AST.html#CDeclr"><span class="hs-identifier hs-type">CDeclr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Doc</span><span>
</span><a name="line-336"></a><a name="prettyDeclr"><a href="Language.C.Pretty.html#prettyDeclr"><span class="hs-identifier">prettyDeclr</span></a></a><span> </span><a name="local-6989586621679103344"><a href="#local-6989586621679103344"><span class="hs-identifier">show_attrs</span></a></a><span> </span><a name="local-6989586621679103345"><a href="#local-6989586621679103345"><span class="hs-identifier">prec</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CDeclr"><span class="hs-identifier hs-var">CDeclr</span></a><span> </span><a name="local-6989586621679103346"><a href="#local-6989586621679103346"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621679103347"><a href="#local-6989586621679103347"><span class="hs-identifier">derived_declrs</span></a></a><span> </span><a name="local-6989586621679103348"><a href="#local-6989586621679103348"><span class="hs-identifier">asmname</span></a></a><span> </span><a name="local-6989586621679103349"><a href="#local-6989586621679103349"><span class="hs-identifier">cattrs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-337"></a><span>    </span><a href="#local-6989586621679103350"><span class="hs-identifier hs-var">ppDeclr</span></a><span> </span><a href="#local-6989586621679103345"><span class="hs-identifier hs-var">prec</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">reverse</span><span> </span><a href="#local-6989586621679103347"><span class="hs-identifier hs-var">derived_declrs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="#local-6989586621679103352"><span class="hs-identifier hs-var">prettyAsmName</span></a><span> </span><a href="#local-6989586621679103348"><span class="hs-identifier hs-var">asmname</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#ifP"><span class="hs-identifier hs-var">ifP</span></a><span> </span><a href="#local-6989586621679103344"><span class="hs-identifier hs-var">show_attrs</span></a><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103349"><span class="hs-identifier hs-var">cattrs</span></a><span class="hs-special">)</span><span>
</span><a name="line-338"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-339"></a><span>    </span><a name="local-6989586621679103350"><a href="#local-6989586621679103350"><span class="hs-identifier">ppDeclr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103346"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-340"></a><span>    </span><span class="hs-comment">--'*' __attribute__? qualifiers declarator</span><span>
</span><a name="line-341"></a><span>    </span><span class="hs-identifier">ppDeclr</span><span> </span><a name="local-6989586621679103353"><a href="#local-6989586621679103353"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CPtrDeclr"><span class="hs-identifier hs-var">CPtrDeclr</span></a><span> </span><a name="local-6989586621679103354"><a href="#local-6989586621679103354"><span class="hs-identifier">quals</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679103355"><a href="#local-6989586621679103355"><span class="hs-identifier">declrs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-342"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103353"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">5</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;*&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103354"><span class="hs-identifier hs-var">quals</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="#local-6989586621679103350"><span class="hs-identifier hs-var">ppDeclr</span></a><span> </span><span class="hs-number">5</span><span> </span><a href="#local-6989586621679103355"><span class="hs-identifier hs-var">declrs</span></a><span>
</span><a name="line-343"></a><span>
</span><a name="line-344"></a><span>    </span><span class="hs-comment">-- declarator[ __attribute__? qualifiers expr ]</span><span>
</span><a name="line-345"></a><span>    </span><span class="hs-identifier">ppDeclr</span><span> </span><a name="local-6989586621679103356"><a href="#local-6989586621679103356"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CArrDeclr"><span class="hs-identifier hs-var">CArrDeclr</span></a><span> </span><a name="local-6989586621679103357"><a href="#local-6989586621679103357"><span class="hs-identifier">quals</span></a></a><span> </span><a name="local-6989586621679103358"><a href="#local-6989586621679103358"><span class="hs-identifier">size</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679103359"><a href="#local-6989586621679103359"><span class="hs-identifier">declrs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-346"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103356"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">6</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679103350"><span class="hs-identifier hs-var">ppDeclr</span></a><span> </span><span class="hs-number">6</span><span> </span><a href="#local-6989586621679103359"><span class="hs-identifier hs-var">declrs</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">brackets</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103357"><span class="hs-identifier hs-var">quals</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103358"><span class="hs-identifier hs-var">size</span></a><span class="hs-special">)</span><span>
</span><a name="line-347"></a><span>    </span><span class="hs-comment">-- declarator ( arguments )</span><span>
</span><a name="line-348"></a><span>    </span><span class="hs-comment">-- or (__attribute__ declarator) (arguments)</span><span>
</span><a name="line-349"></a><span>    </span><span class="hs-identifier">ppDeclr</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFunDeclr"><span class="hs-identifier hs-var">CFunDeclr</span></a><span> </span><a name="local-6989586621679103360"><a href="#local-6989586621679103360"><span class="hs-identifier">params</span></a></a><span> </span><a name="local-6989586621679103361"><a href="#local-6989586621679103361"><span class="hs-identifier">fun_attrs</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679103362"><a href="#local-6989586621679103362"><span class="hs-identifier">declrs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-350"></a><span>        </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621679103361"><span class="hs-identifier hs-var">fun_attrs</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#attrlistP"><span class="hs-identifier hs-var">attrlistP</span></a><span> </span><a href="#local-6989586621679103361"><span class="hs-identifier hs-var">fun_attrs</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="#local-6989586621679103350"><span class="hs-identifier hs-var">ppDeclr</span></a><span> </span><span class="hs-number">5</span><span> </span><a href="#local-6989586621679103362"><span class="hs-identifier hs-var">declrs</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679103350"><span class="hs-identifier hs-var">ppDeclr</span></a><span> </span><span class="hs-number">6</span><span> </span><a href="#local-6989586621679103362"><span class="hs-identifier hs-var">declrs</span></a><span class="hs-special">)</span><span>
</span><a name="line-351"></a><span>        </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103351"><span class="hs-identifier hs-var">prettyParams</span></a><span> </span><a href="#local-6989586621679103360"><span class="hs-identifier hs-var">params</span></a><span class="hs-special">)</span><span>
</span><a name="line-352"></a><span>    </span><a name="local-6989586621679103351"><a href="#local-6989586621679103351"><span class="hs-identifier">prettyParams</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Right</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679103363"><a href="#local-6989586621679103363"><span class="hs-identifier">decls</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103364"><a href="#local-6989586621679103364"><span class="hs-identifier">isVariadic</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-353"></a><span>     </span><span class="hs-identifier hs-var">sep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103363"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-354"></a><span>     </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679103364"><span class="hs-identifier hs-var">isVariadic</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;...&quot;</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span>
</span><a name="line-355"></a><span>    </span><span class="hs-identifier">prettyParams</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621679103365"><a href="#local-6989586621679103365"><span class="hs-identifier">oldStyleIds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-356"></a><span>     </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103365"><span class="hs-identifier hs-var">oldStyleIds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-357"></a><span>    </span><a name="local-6989586621679103352"><a href="#local-6989586621679103352"><span class="hs-identifier">prettyAsmName</span></a></a><span> </span><a name="local-6989586621679103366"><a href="#local-6989586621679103366"><span class="hs-identifier">asm_name_opt</span></a></a><span>
</span><a name="line-358"></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">empty</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679103367"><a href="#local-6989586621679103367"><span class="hs-identifier">asm_name</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__asm__&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103367"><span class="hs-identifier hs-var">asm_name</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103366"><span class="hs-identifier hs-var">asm_name_opt</span></a><span>
</span><a name="line-359"></a><span>
</span><a name="line-360"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CArrSize"><span class="hs-identifier hs-type">CArrSize</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-361"></a><span>  </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CNoArrSize"><span class="hs-identifier hs-var">CNoArrSize</span></a><span> </span><a name="local-6989586621679103200"><a href="#local-6989586621679103200"><span class="hs-identifier">completeType</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ifP"><span class="hs-identifier hs-var">ifP</span></a><span> </span><a href="#local-6989586621679103200"><span class="hs-identifier hs-var">completeType</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;*&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-362"></a><span>  </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CArrSize"><span class="hs-identifier hs-var">CArrSize</span></a><span> </span><a name="local-6989586621679103201"><a href="#local-6989586621679103201"><span class="hs-identifier">staticMod</span></a></a><span> </span><a name="local-6989586621679103202"><a href="#local-6989586621679103202"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#ifP"><span class="hs-identifier hs-var">ifP</span></a><span> </span><a href="#local-6989586621679103201"><span class="hs-identifier hs-var">staticMod</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;static&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103202"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-363"></a><span class="hs-comment">-- initializer :: { CInit }</span><span>
</span><a name="line-364"></a><span class="hs-comment">-- initializer :- assignment_expression</span><span>
</span><a name="line-365"></a><span class="hs-comment">--              | '{' (designation? initializer)_cs_list '}'</span><span>
</span><a name="line-366"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CInit"><span class="hs-identifier hs-type">CInit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-367"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CInitExpr"><span class="hs-identifier hs-var">CInitExpr</span></a><span> </span><a name="local-6989586621679103194"><a href="#local-6989586621679103194"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103194"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-368"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CInitList"><span class="hs-identifier hs-var">CInitList</span></a><span> </span><a name="local-6989586621679103195"><a href="#local-6989586621679103195"><span class="hs-identifier">initl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-369"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;{&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679103196"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679103195"><span class="hs-identifier hs-var">initl</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;}&quot;</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-370"></a><span>        </span><a name="local-6989586621679103196"><a href="#local-6989586621679103196"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a name="local-6989586621679103197"><a href="#local-6989586621679103197"><span class="hs-identifier">initializer</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103197"><span class="hs-identifier hs-var">initializer</span></a><span>
</span><a name="line-371"></a><span>        </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679103198"><a href="#local-6989586621679103198"><span class="hs-identifier">desigs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103199"><a href="#local-6989586621679103199"><span class="hs-identifier">initializer</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103198"><span class="hs-identifier hs-var">desigs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;=&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103199"><span class="hs-identifier hs-var">initializer</span></a><span>
</span><a name="line-372"></a><span>
</span><a name="line-373"></a><span class="hs-comment">-- designation :- designator_list '='</span><span>
</span><a name="line-374"></a><span class="hs-comment">--             | array_range_designator</span><span>
</span><a name="line-375"></a><span class="hs-comment">-- arr_designator :- '[' constant_expression ']'</span><span>
</span><a name="line-376"></a><span class="hs-comment">-- member_designator :-  '.' identifier</span><span>
</span><a name="line-377"></a><span class="hs-comment">-- arr_range _designator :- '[' constant_expression &quot;...&quot; constant_expression ']'</span><span>
</span><a name="line-378"></a><span>
</span><a name="line-379"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CDesignator"><span class="hs-identifier hs-type">CDesignator</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-380"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CArrDesig"><span class="hs-identifier hs-var">CArrDesig</span></a><span> </span><a name="local-6989586621679103190"><a href="#local-6989586621679103190"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;[&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103190"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;]&quot;</span><span>
</span><a name="line-381"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CMemberDesig"><span class="hs-identifier hs-var">CMemberDesig</span></a><span> </span><a name="local-6989586621679103191"><a href="#local-6989586621679103191"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103191"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-382"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CRangeDesig"><span class="hs-identifier hs-var">CRangeDesig</span></a><span> </span><a name="local-6989586621679103192"><a href="#local-6989586621679103192"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103193"><a href="#local-6989586621679103193"><span class="hs-identifier">expr2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-383"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;[&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103192"><span class="hs-identifier hs-var">expr1</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;...&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103193"><span class="hs-identifier hs-var">expr2</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;]&quot;</span><span>
</span><a name="line-384"></a><span>
</span><a name="line-385"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CAttr"><span class="hs-identifier hs-type">CAttr</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-386"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAttr"><span class="hs-identifier hs-var">CAttr</span></a><span> </span><a name="local-6989586621679103187"><a href="#local-6989586621679103187"><span class="hs-identifier">attrName</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103187"><span class="hs-identifier hs-var">attrName</span></a><span>
</span><a name="line-387"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAttr"><span class="hs-identifier hs-var">CAttr</span></a><span> </span><a name="local-6989586621679103188"><a href="#local-6989586621679103188"><span class="hs-identifier">attrName</span></a></a><span> </span><a name="local-6989586621679103189"><a href="#local-6989586621679103189"><span class="hs-identifier">attrParams</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103188"><span class="hs-identifier hs-var">attrName</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679103189"><span class="hs-identifier hs-var">attrParams</span></a><span class="hs-special">)</span><span>
</span><a name="line-388"></a><span>
</span><a name="line-389"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CExpr"><span class="hs-identifier hs-type">CExpr</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-390"></a><span>    </span><a name="local-8214565720323877994"><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier">prettyPrec</span></a></a><span> </span><a name="local-6989586621679103114"><a href="#local-6989586621679103114"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CComma"><span class="hs-identifier hs-var">CComma</span></a><span> </span><a name="local-6989586621679103115"><a href="#local-6989586621679103115"><span class="hs-identifier">exprs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-391"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103114"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103115"><span class="hs-identifier hs-var">exprs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-392"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103116"><a href="#local-6989586621679103116"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAssign"><span class="hs-identifier hs-var">CAssign</span></a><span> </span><a name="local-6989586621679103117"><a href="#local-6989586621679103117"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621679103118"><a href="#local-6989586621679103118"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103119"><a href="#local-6989586621679103119"><span class="hs-identifier">expr2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-393"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103116"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">3</span><span> </span><a href="#local-6989586621679103118"><span class="hs-identifier hs-var">expr1</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103117"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">2</span><span> </span><a href="#local-6989586621679103119"><span class="hs-identifier hs-var">expr2</span></a><span>
</span><a name="line-394"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103120"><a href="#local-6989586621679103120"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCond"><span class="hs-identifier hs-var">CCond</span></a><span> </span><a name="local-6989586621679103121"><a href="#local-6989586621679103121"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103122"><a href="#local-6989586621679103122"><span class="hs-identifier">expr2</span></a></a><span> </span><a name="local-6989586621679103123"><a href="#local-6989586621679103123"><span class="hs-identifier">expr3</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-395"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103120"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">4</span><span> </span><a href="#local-6989586621679103121"><span class="hs-identifier hs-var">expr1</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;?&quot;</span><span> </span><span class="hs-comment">-- NB: assignment only has a higher precedence if cond is on the rhs</span><span>
</span><a name="line-396"></a><span>           </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#maybeP"><span class="hs-identifier hs-var">maybeP</span></a><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103122"><span class="hs-identifier hs-var">expr2</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">4</span><span> </span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">expr3</span></a><span>
</span><a name="line-397"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103124"><a href="#local-6989586621679103124"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBinary"><span class="hs-identifier hs-var">CBinary</span></a><span> </span><a name="local-6989586621679103125"><a href="#local-6989586621679103125"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621679103126"><a href="#local-6989586621679103126"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103127"><a href="#local-6989586621679103127"><span class="hs-identifier">expr2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-398"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679103128"><a href="#local-6989586621679103128"><span class="hs-identifier">prec</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#binPrec"><span class="hs-identifier hs-var">binPrec</span></a><span> </span><a href="#local-6989586621679103125"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-399"></a><span>        </span><span class="hs-keyword">in</span><span>  </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103124"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679103128"><span class="hs-identifier hs-var">prec</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><a href="#local-6989586621679103128"><span class="hs-identifier hs-var">prec</span></a><span> </span><a href="#local-6989586621679103126"><span class="hs-identifier hs-var">expr1</span></a><span>
</span><a name="line-400"></a><span>                             </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103125"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679103128"><span class="hs-identifier hs-var">prec</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103127"><span class="hs-identifier hs-var">expr2</span></a><span>
</span><a name="line-401"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103129"><a href="#local-6989586621679103129"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCast"><span class="hs-identifier hs-var">CCast</span></a><span> </span><a name="local-6989586621679103130"><a href="#local-6989586621679103130"><span class="hs-identifier">decl</span></a></a><span> </span><a name="local-6989586621679103131"><a href="#local-6989586621679103131"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-402"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103129"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103130"><span class="hs-identifier hs-var">decl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><a name="line-403"></a><span>                       </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">25</span><span> </span><a href="#local-6989586621679103131"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-404"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103132"><a href="#local-6989586621679103132"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnary"><span class="hs-identifier hs-var">CUnary</span></a><span> </span><a href="Language.C.Syntax.Ops.html#CPostIncOp"><span class="hs-identifier hs-var">CPostIncOp</span></a><span> </span><a name="local-6989586621679103133"><a href="#local-6989586621679103133"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-405"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103132"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">26</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">26</span><span> </span><a href="#local-6989586621679103133"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;++&quot;</span><span>
</span><a name="line-406"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103134"><a href="#local-6989586621679103134"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnary"><span class="hs-identifier hs-var">CUnary</span></a><span> </span><a href="Language.C.Syntax.Ops.html#CPostDecOp"><span class="hs-identifier hs-var">CPostDecOp</span></a><span> </span><a name="local-6989586621679103135"><a href="#local-6989586621679103135"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-407"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103134"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">26</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">26</span><span> </span><a href="#local-6989586621679103135"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;--&quot;</span><span>
</span><a name="line-408"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103136"><a href="#local-6989586621679103136"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnary"><span class="hs-identifier hs-var">CUnary</span></a><span> </span><a name="local-6989586621679103137"><a href="#local-6989586621679103137"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621679103138"><a href="#local-6989586621679103138"><span class="hs-identifier">expr</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnary"><span class="hs-identifier hs-var">CUnary</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-409"></a><span>        </span><span class="hs-comment">--                             parens aren't necessary, but look nicer imho</span><span>
</span><a name="line-410"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103136"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103137"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">25</span><span> </span><a href="#local-6989586621679103138"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-411"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103139"><a href="#local-6989586621679103139"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CUnary"><span class="hs-identifier hs-var">CUnary</span></a><span> </span><a name="local-6989586621679103140"><a href="#local-6989586621679103140"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621679103141"><a href="#local-6989586621679103141"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-412"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103139"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103140"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">25</span><span> </span><a href="#local-6989586621679103141"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-413"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103142"><a href="#local-6989586621679103142"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CSizeofExpr"><span class="hs-identifier hs-var">CSizeofExpr</span></a><span> </span><a name="local-6989586621679103143"><a href="#local-6989586621679103143"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-414"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103142"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;sizeof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103143"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-415"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103144"><a href="#local-6989586621679103144"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CSizeofType"><span class="hs-identifier hs-var">CSizeofType</span></a><span> </span><a name="local-6989586621679103145"><a href="#local-6989586621679103145"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-416"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103144"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;sizeof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103145"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span>
</span><a name="line-417"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103146"><a href="#local-6989586621679103146"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAlignofExpr"><span class="hs-identifier hs-var">CAlignofExpr</span></a><span> </span><a name="local-6989586621679103147"><a href="#local-6989586621679103147"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-418"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103146"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__alignof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103147"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-419"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103148"><a href="#local-6989586621679103148"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CAlignofType"><span class="hs-identifier hs-var">CAlignofType</span></a><span> </span><a name="local-6989586621679103149"><a href="#local-6989586621679103149"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-420"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103148"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__alignof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103149"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span>
</span><a name="line-421"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103150"><a href="#local-6989586621679103150"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CComplexReal"><span class="hs-identifier hs-var">CComplexReal</span></a><span> </span><a name="local-6989586621679103151"><a href="#local-6989586621679103151"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-422"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103150"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__real&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">25</span><span> </span><a href="#local-6989586621679103151"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-423"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103152"><a href="#local-6989586621679103152"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CComplexImag"><span class="hs-identifier hs-var">CComplexImag</span></a><span> </span><a name="local-6989586621679103153"><a href="#local-6989586621679103153"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-424"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103152"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">25</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__imag&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">25</span><span> </span><a href="#local-6989586621679103153"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-425"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103154"><a href="#local-6989586621679103154"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CIndex"><span class="hs-identifier hs-var">CIndex</span></a><span> </span><a name="local-6989586621679103155"><a href="#local-6989586621679103155"><span class="hs-identifier">expr1</span></a></a><span> </span><a name="local-6989586621679103156"><a href="#local-6989586621679103156"><span class="hs-identifier">expr2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-426"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103154"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">26</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">26</span><span> </span><a href="#local-6989586621679103155"><span class="hs-identifier hs-var">expr1</span></a><span>
</span><a name="line-427"></a><span>                       </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;[&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103156"><span class="hs-identifier hs-var">expr2</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;]&quot;</span><span>
</span><a name="line-428"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103157"><a href="#local-6989586621679103157"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCall"><span class="hs-identifier hs-var">CCall</span></a><span> </span><a name="local-6989586621679103158"><a href="#local-6989586621679103158"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103159"><a href="#local-6989586621679103159"><span class="hs-identifier">args</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-429"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103157"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">30</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">30</span><span> </span><a href="#local-6989586621679103158"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span>
</span><a name="line-430"></a><span>            </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sep</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679103159"><span class="hs-identifier hs-var">args</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><a name="line-431"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103160"><a href="#local-6989586621679103160"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CMember"><span class="hs-identifier hs-var">CMember</span></a><span> </span><a name="local-6989586621679103161"><a href="#local-6989586621679103161"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103162"><a href="#local-6989586621679103162"><span class="hs-identifier">ident</span></a></a><span> </span><a name="local-6989586621679103163"><a href="#local-6989586621679103163"><span class="hs-identifier">deref</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-432"></a><span>        </span><a href="Language.C.Pretty.html#parenPrec"><span class="hs-identifier hs-var">parenPrec</span></a><span> </span><a href="#local-6989586621679103160"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-number">26</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.C.Pretty.html#prettyPrec"><span class="hs-identifier hs-var">prettyPrec</span></a><span> </span><span class="hs-number">26</span><span> </span><a href="#local-6989586621679103161"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-433"></a><span>                       </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679103163"><span class="hs-identifier hs-var">deref</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-string">&quot;.&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103162"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-434"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103164"><a href="#local-6989586621679103164"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CVar"><span class="hs-identifier hs-var">CVar</span></a><span> </span><a name="local-6989586621679103165"><a href="#local-6989586621679103165"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103165"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-435"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103166"><a href="#local-6989586621679103166"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CConst"><span class="hs-identifier hs-var">CConst</span></a><span> </span><a name="local-6989586621679103167"><a href="#local-6989586621679103167"><span class="hs-identifier">constant</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103167"><span class="hs-identifier hs-var">constant</span></a><span>
</span><a name="line-436"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103168"><a href="#local-6989586621679103168"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCompoundLit"><span class="hs-identifier hs-var">CCompoundLit</span></a><span> </span><a name="local-6989586621679103169"><a href="#local-6989586621679103169"><span class="hs-identifier">decl</span></a></a><span> </span><a name="local-6989586621679103170"><a href="#local-6989586621679103170"><span class="hs-identifier">initl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-437"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103169"><span class="hs-identifier hs-var">decl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">braces</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">hsep</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679103171"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679103170"><span class="hs-identifier hs-var">initl</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-438"></a><span>        </span><a name="local-6989586621679103171"><a href="#local-6989586621679103171"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a name="local-6989586621679103172"><a href="#local-6989586621679103172"><span class="hs-identifier">initializer</span></a></a><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103172"><span class="hs-identifier hs-var">initializer</span></a><span>
</span><a name="line-439"></a><span>        </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679103173"><a href="#local-6989586621679103173"><span class="hs-identifier">mems</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103174"><a href="#local-6989586621679103174"><span class="hs-identifier">initializer</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103173"><span class="hs-identifier hs-var">mems</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;=&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103174"><span class="hs-identifier hs-var">initializer</span></a><span>
</span><a name="line-440"></a><span>
</span><a name="line-441"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103175"><a href="#local-6989586621679103175"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStatExpr"><span class="hs-identifier hs-var">CStatExpr</span></a><span> </span><a name="local-6989586621679103176"><a href="#local-6989586621679103176"><span class="hs-identifier">stat</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-442"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103176"><span class="hs-identifier hs-var">stat</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><a name="line-443"></a><span>
</span><a name="line-444"></a><span>    </span><span class="hs-comment">-- unary_expr :- &amp;&amp; ident  {- address of label -}</span><span>
</span><a name="line-445"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103177"><a href="#local-6989586621679103177"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CLabAddrExpr"><span class="hs-identifier hs-var">CLabAddrExpr</span></a><span> </span><a name="local-6989586621679103178"><a href="#local-6989586621679103178"><span class="hs-identifier">ident</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;&amp;&amp;&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103178"><span class="hs-identifier hs-var">ident</span></a><span>
</span><a name="line-446"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103179"><a href="#local-6989586621679103179"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CGenericSelection"><span class="hs-identifier hs-var">CGenericSelection</span></a><span> </span><a name="local-6989586621679103180"><a href="#local-6989586621679103180"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103181"><a href="#local-6989586621679103181"><span class="hs-identifier">assoc_list</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-447"></a><span>      </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;_Generic&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">parens</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">hsep</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">punctuate</span><span> </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103180"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679103182"><span class="hs-identifier hs-var">pAssoc</span></a><span> </span><a href="#local-6989586621679103181"><span class="hs-identifier hs-var">assoc_list</span></a><span class="hs-special">)</span><span>
</span><a name="line-448"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-449"></a><span>        </span><a name="local-6989586621679103182"><a href="#local-6989586621679103182"><span class="hs-identifier">pAssoc</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679103183"><a href="#local-6989586621679103183"><span class="hs-identifier">mty</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679103184"><a href="#local-6989586621679103184"><span class="hs-identifier">expr1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;default&quot;</span><span class="hs-special">)</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103183"><span class="hs-identifier hs-var">mty</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;:&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103184"><span class="hs-identifier hs-var">expr1</span></a><span>
</span><a name="line-450"></a><span>    </span><span class="hs-identifier">prettyPrec</span><span> </span><a name="local-6989586621679103185"><a href="#local-6989586621679103185"><span class="hs-identifier">_p</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinExpr"><span class="hs-identifier hs-var">CBuiltinExpr</span></a><span> </span><a name="local-6989586621679103186"><a href="#local-6989586621679103186"><span class="hs-identifier">builtin</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103186"><span class="hs-identifier hs-var">builtin</span></a><span>
</span><a name="line-451"></a><span>
</span><a name="line-452"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CBuiltin"><span class="hs-identifier hs-type">CBuiltin</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-453"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinVaArg"><span class="hs-identifier hs-var">CBuiltinVaArg</span></a><span> </span><a name="local-6989586621679103103"><a href="#local-6989586621679103103"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103104"><a href="#local-6989586621679103104"><span class="hs-identifier">ty_name</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-454"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__builtin_va_arg&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-455"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103103"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103104"><span class="hs-identifier hs-var">ty_name</span></a><span class="hs-special">)</span><span>
</span><a name="line-456"></a><span>    </span><span class="hs-comment">-- The first desig has to be a member field.</span><span>
</span><a name="line-457"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinOffsetOf"><span class="hs-identifier hs-var">CBuiltinOffsetOf</span></a><span> </span><a name="local-6989586621679103105"><a href="#local-6989586621679103105"><span class="hs-identifier">ty_name</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CMemberDesig"><span class="hs-identifier hs-var">CMemberDesig</span></a><span> </span><a name="local-6989586621679103106"><a href="#local-6989586621679103106"><span class="hs-identifier">field1</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679103107"><a href="#local-6989586621679103107"><span class="hs-identifier">desigs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-458"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__builtin_offsetof&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-459"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103105"><span class="hs-identifier hs-var">ty_name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#identP"><span class="hs-identifier hs-var">identP</span></a><span> </span><a href="#local-6989586621679103106"><span class="hs-identifier hs-var">field1</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103107"><span class="hs-identifier hs-var">desigs</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-460"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinOffsetOf"><span class="hs-identifier hs-var">CBuiltinOffsetOf</span></a><span> </span><a name="local-6989586621679103108"><a href="#local-6989586621679103108"><span class="hs-identifier">_ty_name</span></a></a><span> </span><a name="local-6989586621679103109"><a href="#local-6989586621679103109"><span class="hs-identifier">otherDesigs</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-461"></a><span>        </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-string">&quot;Inconsistent AST: Cannot interpret designators in offsetOf: &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-462"></a><span>                </span><span class="hs-identifier hs-var">show</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103109"><span class="hs-identifier hs-var">otherDesigs</span></a><span class="hs-special">)</span><span>
</span><a name="line-463"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinTypesCompatible"><span class="hs-identifier hs-var">CBuiltinTypesCompatible</span></a><span> </span><a name="local-6989586621679103110"><a href="#local-6989586621679103110"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621679103111"><a href="#local-6989586621679103111"><span class="hs-identifier">ty2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-464"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__builtin_types_compatible_p&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-465"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103110"><span class="hs-identifier hs-var">ty1</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103111"><span class="hs-identifier hs-var">ty2</span></a><span class="hs-special">)</span><span>
</span><a name="line-466"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CBuiltinConvertVector"><span class="hs-identifier hs-var">CBuiltinConvertVector</span></a><span> </span><a name="local-6989586621679103112"><a href="#local-6989586621679103112"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679103113"><a href="#local-6989586621679103113"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>
</span><a name="line-467"></a><span>        </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;__builtin_convertvector&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span>
</span><a name="line-468"></a><span>        </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-special">(</span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103112"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a><span> </span><a href="#local-6989586621679103113"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-469"></a><span>
</span><a name="line-470"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.Ops.html#CAssignOp"><span class="hs-identifier hs-type">CAssignOp</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-471"></a><span>  </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><a name="local-6989586621679103102"><a href="#local-6989586621679103102"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679103102"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-472"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAssignOp"><span class="hs-identifier hs-var">CAssignOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;=&quot;</span><span>
</span><a name="line-473"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CMulAssOp"><span class="hs-identifier hs-var">CMulAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;*=&quot;</span><span>
</span><a name="line-474"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CDivAssOp"><span class="hs-identifier hs-var">CDivAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;/=&quot;</span><span>
</span><a name="line-475"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CRmdAssOp"><span class="hs-identifier hs-var">CRmdAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;%=&quot;</span><span>
</span><a name="line-476"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAddAssOp"><span class="hs-identifier hs-var">CAddAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;+=&quot;</span><span>
</span><a name="line-477"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CSubAssOp"><span class="hs-identifier hs-var">CSubAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;-=&quot;</span><span>
</span><a name="line-478"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CShlAssOp"><span class="hs-identifier hs-var">CShlAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&lt;&lt;=&quot;</span><span>
</span><a name="line-479"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CShrAssOp"><span class="hs-identifier hs-var">CShrAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&gt;&gt;=&quot;</span><span>
</span><a name="line-480"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAndAssOp"><span class="hs-identifier hs-var">CAndAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&amp;=&quot;</span><span>
</span><a name="line-481"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CXorAssOp"><span class="hs-identifier hs-var">CXorAssOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;^=&quot;</span><span>
</span><a name="line-482"></a><span>    </span><a href="Language.C.Syntax.Ops.html#COrAssOp"><span class="hs-identifier hs-var">COrAssOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;|=&quot;</span><span>
</span><a name="line-483"></a><span>
</span><a name="line-484"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.Ops.html#CBinaryOp"><span class="hs-identifier hs-type">CBinaryOp</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-485"></a><span>  </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><a name="local-6989586621679103101"><a href="#local-6989586621679103101"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679103101"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-486"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CMulOp"><span class="hs-identifier hs-var">CMulOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;*&quot;</span><span>
</span><a name="line-487"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CDivOp"><span class="hs-identifier hs-var">CDivOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;/&quot;</span><span>
</span><a name="line-488"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CRmdOp"><span class="hs-identifier hs-var">CRmdOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;%&quot;</span><span>
</span><a name="line-489"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAddOp"><span class="hs-identifier hs-var">CAddOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;+&quot;</span><span>
</span><a name="line-490"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CSubOp"><span class="hs-identifier hs-var">CSubOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;-&quot;</span><span>
</span><a name="line-491"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CShlOp"><span class="hs-identifier hs-var">CShlOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&lt;&lt;&quot;</span><span>
</span><a name="line-492"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CShrOp"><span class="hs-identifier hs-var">CShrOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&gt;&gt;&quot;</span><span>
</span><a name="line-493"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CLeOp"><span class="hs-identifier hs-var">CLeOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&lt;&quot;</span><span>
</span><a name="line-494"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CGrOp"><span class="hs-identifier hs-var">CGrOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&gt;&quot;</span><span>
</span><a name="line-495"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CLeqOp"><span class="hs-identifier hs-var">CLeqOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&lt;=&quot;</span><span>
</span><a name="line-496"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CGeqOp"><span class="hs-identifier hs-var">CGeqOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&gt;=&quot;</span><span>
</span><a name="line-497"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CEqOp"><span class="hs-identifier hs-var">CEqOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;==&quot;</span><span>
</span><a name="line-498"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CNeqOp"><span class="hs-identifier hs-var">CNeqOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;!=&quot;</span><span>
</span><a name="line-499"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAndOp"><span class="hs-identifier hs-var">CAndOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&amp;&quot;</span><span>
</span><a name="line-500"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CXorOp"><span class="hs-identifier hs-var">CXorOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;^&quot;</span><span>
</span><a name="line-501"></a><span>    </span><a href="Language.C.Syntax.Ops.html#COrOp"><span class="hs-identifier hs-var">COrOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;|&quot;</span><span>
</span><a name="line-502"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CLndOp"><span class="hs-identifier hs-var">CLndOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&amp;&amp;&quot;</span><span>
</span><a name="line-503"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CLorOp"><span class="hs-identifier hs-var">CLorOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;||&quot;</span><span>
</span><a name="line-504"></a><span>
</span><a name="line-505"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.Ops.html#CUnaryOp"><span class="hs-identifier hs-type">CUnaryOp</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-506"></a><span>  </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><a name="local-6989586621679103100"><a href="#local-6989586621679103100"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679103100"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-507"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CPreIncOp"><span class="hs-identifier hs-var">CPreIncOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;++&quot;</span><span>
</span><a name="line-508"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CPreDecOp"><span class="hs-identifier hs-var">CPreDecOp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;--&quot;</span><span>
</span><a name="line-509"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CPostIncOp"><span class="hs-identifier hs-var">CPostIncOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;++&quot;</span><span>
</span><a name="line-510"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CPostDecOp"><span class="hs-identifier hs-var">CPostDecOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;--&quot;</span><span>
</span><a name="line-511"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CAdrOp"><span class="hs-identifier hs-var">CAdrOp</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&amp;&quot;</span><span>
</span><a name="line-512"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CIndOp"><span class="hs-identifier hs-var">CIndOp</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;*&quot;</span><span>
</span><a name="line-513"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CPlusOp"><span class="hs-identifier hs-var">CPlusOp</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;+&quot;</span><span>
</span><a name="line-514"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CMinOp"><span class="hs-identifier hs-var">CMinOp</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;-&quot;</span><span>
</span><a name="line-515"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CCompOp"><span class="hs-identifier hs-var">CCompOp</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;~&quot;</span><span>
</span><a name="line-516"></a><span>    </span><a href="Language.C.Syntax.Ops.html#CNegOp"><span class="hs-identifier hs-var">CNegOp</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;!&quot;</span><span>
</span><a name="line-517"></a><span>
</span><a name="line-518"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CConst"><span class="hs-identifier hs-type">CConst</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-519"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CIntConst"><span class="hs-identifier hs-var">CIntConst</span></a><span>   </span><a name="local-6989586621679103096"><a href="#local-6989586621679103096"><span class="hs-identifier">int_const</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679103096"><span class="hs-identifier hs-var">int_const</span></a><span class="hs-special">)</span><span>
</span><a name="line-520"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CCharConst"><span class="hs-identifier hs-var">CCharConst</span></a><span>  </span><a name="local-6989586621679103097"><a href="#local-6989586621679103097"><span class="hs-identifier">chr</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679103097"><span class="hs-identifier hs-var">chr</span></a><span class="hs-special">)</span><span>
</span><a name="line-521"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CFloatConst"><span class="hs-identifier hs-var">CFloatConst</span></a><span> </span><a name="local-6989586621679103098"><a href="#local-6989586621679103098"><span class="hs-identifier">flt</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679103098"><span class="hs-identifier hs-var">flt</span></a><span class="hs-special">)</span><span>
</span><a name="line-522"></a><span>    </span><span class="hs-identifier">pretty</span><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStrConst"><span class="hs-identifier hs-var">CStrConst</span></a><span>   </span><a name="local-6989586621679103099"><a href="#local-6989586621679103099"><span class="hs-identifier">str</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679103099"><span class="hs-identifier hs-var">str</span></a><span class="hs-special">)</span><span>
</span><a name="line-523"></a><span>
</span><a name="line-524"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.C.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a><span> </span><a href="Language.C.Syntax.AST.html#CStrLit"><span class="hs-identifier hs-type">CStrLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-525"></a><span>    </span><a name="local-8214565720323877993"><a href="Language.C.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.C.Syntax.AST.html#CStrLit"><span class="hs-identifier hs-var">CStrLit</span></a><span>   </span><a name="local-6989586621679103095"><a href="#local-6989586621679103095"><span class="hs-identifier">str</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679103095"><span class="hs-identifier hs-var">str</span></a><span class="hs-special">)</span><span>
</span><a name="line-526"></a><span>
</span><a name="line-527"></a><span class="hs-comment">-- precedence of C operators</span><span>
</span><a name="line-528"></a><span class="hs-identifier">binPrec</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.C.Syntax.Ops.html#CBinaryOp"><span class="hs-identifier hs-type">CBinaryOp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-529"></a><a name="binPrec"><a href="Language.C.Pretty.html#binPrec"><span class="hs-identifier">binPrec</span></a></a><span> </span><a href="Language.C.Syntax.Ops.html#CMulOp"><span class="hs-identifier hs-var">CMulOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">20</span><span>
</span><a name="line-530"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CDivOp"><span class="hs-identifier hs-var">CDivOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">20</span><span>
</span><a name="line-531"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CRmdOp"><span class="hs-identifier hs-var">CRmdOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">20</span><span>
</span><a name="line-532"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CAddOp"><span class="hs-identifier hs-var">CAddOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">19</span><span>
</span><a name="line-533"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CSubOp"><span class="hs-identifier hs-var">CSubOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">19</span><span>
</span><a name="line-534"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CShlOp"><span class="hs-identifier hs-var">CShlOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">18</span><span>
</span><a name="line-535"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CShrOp"><span class="hs-identifier hs-var">CShrOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">18</span><span>
</span><a name="line-536"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CLeOp"><span class="hs-identifier hs-var">CLeOp</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-537"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CGrOp"><span class="hs-identifier hs-var">CGrOp</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-538"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CLeqOp"><span class="hs-identifier hs-var">CLeqOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-539"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CGeqOp"><span class="hs-identifier hs-var">CGeqOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-540"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CEqOp"><span class="hs-identifier hs-var">CEqOp</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">16</span><span>
</span><a name="line-541"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CNeqOp"><span class="hs-identifier hs-var">CNeqOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">16</span><span>
</span><a name="line-542"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CAndOp"><span class="hs-identifier hs-var">CAndOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">15</span><span>
</span><a name="line-543"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CXorOp"><span class="hs-identifier hs-var">CXorOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">14</span><span>
</span><a name="line-544"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#COrOp"><span class="hs-identifier hs-var">COrOp</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">13</span><span>
</span><a name="line-545"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CLndOp"><span class="hs-identifier hs-var">CLndOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">12</span><span>
</span><a name="line-546"></a><span class="hs-identifier">binPrec</span><span> </span><a href="Language.C.Syntax.Ops.html#CLorOp"><span class="hs-identifier hs-var">CLorOp</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">11</span><span>
</span><a name="line-547"></a></pre></body></html>